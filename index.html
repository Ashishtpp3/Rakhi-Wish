<!DOCTYPE html>
<html lang="hi">
<script type="text/javascript">
	atOptions = {
		'key' : '9f5ed8c42fb0de51562560e647d5668f',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/9f5ed8c42fb0de51562560e647d5668f/invoke.js"></script>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रक्षा बंधन की शुभकामनाएँ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Yatra+One&display=swap');

        :root {
            --primary-color: #D81B60; /* Festive Pink */
            --secondary-color: #FFB300; /* Gold/Amber */
            --light-color: #FFFFFF;
            --dark-color: #4A148C; /* Deep Purple Text */
            --bg-color: #FFF8E1; /* Light Cream */
            --whatsapp-color: #25D366;
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--dark-color);
            position: relative;
            overflow: hidden;
            padding: 1rem 0;
        }

        .petal-container {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .petal {
            position: absolute;
            background: var(--primary-color);
            border-radius: 50% 0;
            width: 20px; height: 15px;
            opacity: 0.7;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
                opacity: 0;
            }
        }

        .card {
            text-align: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 90%;
            z-index: 10;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .image-container {
            position: relative;
            display: inline-block;
            margin-bottom: 1rem;
            border-radius: 18px;
            padding: 5px;
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }
        
        #rakhi-image {
            display: block;
            max-width: 100%;
            height: auto;
            max-height: 250px;
            border-radius: 15px;
            position: relative;
        }
        
        .glitter-container {
            position: absolute;
            top: 5px; left: 5px; right: 5px; bottom: 5px;
            border-radius: 15px;
            overflow: hidden;
            pointer-events: none;
        }

        .glitter {
            position: absolute;
            background: white;
            border-radius: 50%;
            width: 4px; height: 4px;
            animation: sparkle-effect linear infinite;
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px var(--secondary-color);
        }

        @keyframes sparkle-effect {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        .greeting-text {
            font-family: 'Yatra One', cursive;
            font-size: 3rem;
            color: var(--primary-color);
            margin: 0.5rem 0;
            font-weight: 400;
        }

        #sender-name-display {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark-color);
            margin: 0.5rem 0 1.5rem 0;
            min-height: 2rem;
        }

        .input-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
            color: var(--dark-color);
        }

        .name-input {
            width: calc(100% - 24px);
            padding: 12px;
            border-radius: 10px;
            border: 2px solid #ddd;
            background: #fff;
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #333;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .name-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 8px rgba(216, 27, 96, 0.2);
        }

        .generate-button {
            background-image: linear-gradient(45deg, var(--primary-color), #f06292);
            color: var(--light-color);
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .generate-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(216, 27, 96, 0.3);
        }
        
        #link-container {
            margin-top: 1.5rem;
            display: none;
        }

        .link-wrapper {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .share-link {
            flex-grow: 1;
            padding: 10px;
            border: 1px dashed var(--primary-color);
            background-color: #fce4ec;
            color: var(--primary-color);
            font-size: 0.9rem;
            border-radius: 8px;
            word-wrap: break-word;
        }
        
        #copy-btn {
            padding: 10px;
            border: none;
            background-color: var(--primary-color);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: opacity 0.2s;
        }
        #copy-btn:hover { opacity: 0.8; }
        #copy-btn svg { width: 20px; height: 20px; fill: white; }

        #whatsapp-btn {
            background-color: var(--whatsapp-color);
            width: 100%;
            margin-top: 10px;
            padding: 12px 20px;
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        #whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.4);
        }
        #whatsapp-btn svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        @media (max-width: 480px) {
            .card { padding: 1.5rem; }
            .greeting-text { font-size: 2.5rem; }
            #sender-name-display { font-size: 1.3rem; }
            #rakhi-image { max-height: 200px; }
        }
    </style>
</head>
<body>

    <div class="petal-container" id="petal-container"></div>

    <div class="card">
        <div class="image-container">
            <img id="rakhi-image" src="raksha-bandhan.jpg" alt="रक्षा बंधन">
            <div class="glitter-container" id="glitter-container"></div>
        </div>
        
        <h1 class="greeting-text">रक्षा बंधन</h1>
        <p id="sender-name-display"></p>

        <div class="form-container">
            <label for="name" class="input-label">अपनी शुभकामनाएँ भेजने के लिए नाम लिखें:</label>
            <input type="text" id="name" class="name-input" placeholder="आपका नाम">
            <button class="generate-button" onclick="generateLink()">लिंक बनाएँ</button>
        </div>

        <div id="link-container">
            <p class="input-label" style="margin-bottom: 0.5rem;">इस लिंक को कॉपी करें:</p>
            <div class="link-wrapper">
                <input type="text" id="share-link" class="share-link" readonly>
                <button id="copy-btn" onclick="copyLink()" title="कॉपी करें">
                    <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg>
                </button>
            </div>
            <button id="whatsapp-btn" onclick="shareOnWhatsApp()">
                <svg viewBox="0 0 24 24"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91c0 1.79.46 3.48 1.32 4.95L2 22l5.25-1.38c1.41.81 3.02 1.29 4.79 1.29h.01c5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM9.51 7.31c.21-.49.43-.52.61-.53.16 0 .33-.02.49-.02.21 0 .46.07.68.39.27.39.87 1.07.87 2.19s-.02 1.25-.13 1.41c-.11.16-.27.24-.51.41-.24.16-.51.27-.7.4-.24.16-.42.24-.58.39-.16.16-.33.35-.45.56-.12.21-.24.45-.1.66.13.21.58.66 1.19 1.22.77.71 1.45 1.02 1.66 1.1.21.07.33.05.46-.07.16-.13.68-.78.87-.99.19-.21.39-.16.63-.1.24.07 1.55.73 1.82.87.27.13.45.21.51.33.05.11.02.63-.13.78-.16.16-1.02.97-1.46 1.15-.43.19-.82.21-1.25.11-.43-.1-2.61-1-3.75-2.07s-1.88-2.28-1.99-2.39c-.11-.11-.43-.22-.61-.43s-1.09-1.2-1.09-2.32c0-1.02.66-1.55.85-1.78z"></path></svg>
                <span>व्हाट्सएप पर शेयर करें</span>
            </button>
        </div>
    </div>

    <script>
        // On Page Load
        window.onload = function() {
            createGlitters();
            createPetals();
            
            const urlParams = new URLSearchParams(window.location.search);
            const senderName = urlParams.get('from');

            if (senderName) {
                const decodedName = decodeURIComponent(senderName.replace(/\+/g, ' '));
                document.getElementById('sender-name-display').innerHTML = `की ओर से शुभकामनाएँ <br>~ ${decodedName}`;
            } else {
                document.getElementById('sender-name-display').textContent = 'की हार्दिक शुभकामनाएँ!';
            }
        };
        
        function createGlitters() {
            const container = document.getElementById('glitter-container');
            if(!container) return;
            const glitterCount = 30;
            for (let i = 0; i < glitterCount; i++) {
                const glitter = document.createElement('div');
                glitter.className = 'glitter';
                glitter.style.top = Math.random() * 100 + '%';
                glitter.style.left = Math.random() * 100 + '%';
                glitter.style.animationDuration = Math.random() * 2 + 1 + 's';
                glitter.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(glitter);
            }
        }
        
        function createPetals() {
            const petalContainer = document.getElementById('petal-container');
            if(!petalContainer) return;
            for(let i = 0; i < 20; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.animationDuration = Math.random() * 5 + 8 + 's';
                petal.style.animationDelay = Math.random() * 5 + 's';
                petalContainer.appendChild(petal);
            }
        }

        function generateLink() {
            const nameInput = document.getElementById('name').value.trim();
            if (nameInput === "") {
                alert("कृपया अपना नाम दर्ज करें।");
                return;
            }

            const encodedName = encodeURIComponent(nameInput);
            const baseURL = window.location.href.split('?')[0];
            const shareableLink = `${baseURL}?from=${encodedName}`;

            const linkContainer = document.getElementById('link-container');
            const shareLinkInput = document.getElementById('share-link');
            
            shareLinkInput.value = shareableLink;
            linkContainer.style.display = 'block';
        }
        
        function copyLink() {
            const shareLinkInput = document.getElementById('share-link');
            const copyBtn = document.getElementById('copy-btn');
            const originalContent = copyBtn.innerHTML;

            shareLinkInput.select();
            shareLinkInput.setSelectionRange(0, 99999);

            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(shareLinkInput.value)
                    .then(() => {
                        copyBtn.innerHTML = 'कॉपी हुआ!';
                        setTimeout(() => { copyBtn.innerHTML = originalContent; }, 2000);
                    })
                    .catch(() => tryCopyLegacy(originalContent));
            } else {
                tryCopyLegacy(originalContent);
            }

            function tryCopyLegacy(originalContent) {
                try {
                    document.execCommand('copy');
                    copyBtn.innerHTML = 'कॉपी हुआ!';
                    setTimeout(() => { copyBtn.innerHTML = originalContent; }, 2000);
                } catch (err) {
                    alert('लिंक कॉपी नहीं हो सका। कृपया इसे मैन्युअल रूप से कॉपी करें।');
                }
            }
        }

        function shareOnWhatsApp() {
            const link = document.getElementById('share-link').value;
            if (!link) {
                alert("कृपया पहले एक लिंक बनाएं!");
                return;
            }
            const message = `रक्षा बंधन की हार्दिक शुभकामनाएँ! 💖\n\nमैंने आपके लिए कुछ खास भेजा है, देखने के लिए नीचे दिए लिंक पर क्लिक करें:\n\n${link}`;
            const whatsappURL = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');
        }
    </script>
</body>
</html>
<script type="text/javascript">
	atOptions = {
		'key' : '9f5ed8c42fb0de51562560e647d5668f',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/9f5ed8c42fb0de51562560e647d5668f/invoke.js"></script>